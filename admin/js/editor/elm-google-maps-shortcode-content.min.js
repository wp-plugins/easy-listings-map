(function(c){jQuery(".controls").tipTip({attribute:"data-tip",defaultPosition:"top",fadeIn:50,fadeOut:50,delay:200});jQuery("#insert_shortcode").on("click",function(){b.insert(b.local_ed)});jQuery("#auto_zoom").change(function(){var d=jQuery("#auto_zoom").val();if("1"===d){jQuery("#zoom_level_control").hide()}else{jQuery("#zoom_level_control").show()}});var b={local_ed:"ed",init:function(d){b.local_ed=d;tinyMCEPopup.resizeToInnerSize()},insert:function a(f){tinyMCEPopup.execCommand("mceRemoveNode",false,null);var i='"';jQuery("#property_types :selected").each(function(j,k){i+=jQuery(k).val()+(j<jQuery("#property_types :selected").length-1?",":"")+(j==jQuery("#property_types :selected").length-1?'"':"")});if(i=='"'){return alert("Please select at least one property type.")}var g="";jQuery("#property_status :selected").each(function(j,k){g+=jQuery(k).val()+(j<jQuery("#property_status :selected").length-1?",":"")});g='"'+g+'"';var d="";jQuery("#location input:checkbox:checked").each(function(j,k){d+=jQuery(k).val()+(j<jQuery("#location input:checkbox:checked").length-1?",":"")});var h="";jQuery("input:checkbox.map_types:checked").each(function(j,k){h+=jQuery(k).val()+(j<jQuery("input:checkbox.map_types:checked").length-1?",":"")});h='"'+h+'"';var e="[elm_google_maps";e+=" post_type="+i;e+=" status="+g;e+=d.length?' location="'+d+'"':"";e+=" map_types="+h;e+=' limit="'+(jQuery("#limit").val()>-1?jQuery("#limit").val():"-1")+'"';e+=jQuery("#map_height").val()>0?' map_style_height="'+jQuery("#map_height").val()+'"':"";e+=' auto_zoom="'+jQuery("#auto_zoom").val()+'"';e+=(jQuery("#map_zoom").val()>=0&&jQuery("#auto_zoom").val()==="0")?' zoom="'+jQuery("#map_zoom").val()+'"':"";e+=jQuery("#cluster_size").val()?' cluster_size="'+jQuery("#cluster_size").val()+'"':"";e+=' order="'+jQuery("#order").val()+'"';e+=' default_latitude="'+jQuery("#default_latitude").val()+'"';e+=' default_longitude="'+jQuery("#default_longitude").val()+'"';e+=jQuery.trim(jQuery("#map_id").val())?' map_id="'+jQuery("#map_id").val()+'"':"";if(jQuery("#title").val()){e+="]"+jQuery("#title").val()+"[/elm_google_maps]"}else{e+="]"+b.local_ed.selection.getContent()+"[/elm_google_maps]"}tinyMCEPopup.execCommand("mceReplaceContent",false,e);tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(b.init,b)})(jQuery);
